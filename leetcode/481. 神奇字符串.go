package main

import (
	"strings"
	"fmt"
)

/*
ç½‘ä¸Šçœ‹äº†å¾ˆå¤šç¯‡åšå®¢ï¼Œéƒ½æ˜¯æ²¡æœ‰è¯¦ç»†è§„å¾‹ï¼Œè®©äººçœ‹å¾—äº‘é‡Œé›¾é‡Œçš„ï¼Œè¶Šçœ‹è¶ŠðŸ˜µ

è§„å¾‹ï¼šåˆå§‹çš„ä¸º 122ï¼Œä»Žåˆå§‹çš„å¼€å§‹ç”ŸæˆåŽé¢çš„å­—ç¬¦ä¸²ï¼Œå…ˆå­—ç¬¦1ï¼Œ2ï¼Œ1ï¼Œ2è¿™ç§äº¤æ›¿æ·»åŠ 
ä¹‹åŽä¸€ä½æ˜¯æ•°ç»„ä¸‹æ ‡3ï¼Œä¸‹æ ‡2çš„å€¼æ˜¯2ï¼Œæ‰€ä»¥æ·»åŠ ä¸¤ä¸ª1ï¼Œä¹‹åŽæ˜¯ä¸‹æ ‡3æ˜¯1ï¼ŒåŽé¢æ·»åŠ ä¸€ä¸ª2

è¯¦ç»†çš„è§„å¾‹ç”Ÿæˆå¦‚ä¸‹ï¼š

122              è¦æ·»åŠ çš„å€¼  è¦æ·»åŠ çš„ä¸ªæ•°
12211            1          ä¸‹æ ‡2çš„å€¼ä¸º2
122112           2          ä¸‹æ ‡3çš„å€¼ä¸º1
1221121          1          ä¸‹æ ‡4çš„å€¼ä¸º1
122112122        2          ä¸‹æ ‡5çš„å€¼ä¸º2
1221121221       1          ä¸‹æ ‡6çš„å€¼ä¸º1
...

*/
func magicalString(n int) int {
	s := "122"
	for i, j, c := 2, 0, '1';n > len(s); {
		for j = 0;j < int(s[i] - '0');j++ {
			s += string(c)
		}
		if c == '1' {
			c = '2'
		} else {
			c = '1'
		}
		i++
	}
	return strings.Count(s[:n], "1")
}

func main() {
	fmt.Println(magicalString(5))
}